{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAWC,SAASC,cAAc,mBAExC,WACE,MAAMC,EAAQC,aAAaC,QAAQ,aAC7BC,EAAcC,KAAKC,MAAML,GAC/BM,QAAQC,IAAIJ,GACZ,MAAMK,EAAOL,EACVM,KACEC,GACC,sCAAsCA,EAAQC,+GAIbD,EAAQE,2DACTF,EAAQG,qWAOZH,EAAQI,sDACHJ,EAAQK,8FAEdL,EAAQM,gDACNN,EAAQO,6GAKxCC,KAAK,IAIR,GAFArB,EAASsB,UAAYX,EAED,IAAhBA,EAAKY,OACAC,EAAA1B,GAAS2B,OAAOC,KAAK,gCAEhC,CAEAC,GAEA3B,EAAS4B,iBAAiB,SA6C1B,SAAuBC,GACrB,IAAIC,EAAOD,EAAME,OAAOC,cAAcA,cAAcA,cAChDC,EAASH,EAAKI,QAAQpB,GAE1B,MAAMC,EAAQe,EAAK5B,cAAc,eAAeiC,IAC1CnB,EAAWc,EAAK5B,cAAc,uBAAuBkC,YACrDnB,EAAQa,EAAK5B,cAAc,oBAAoBkC,YAC/ClB,EAAcY,EAAK5B,cAAc,0BAA0BkC,YAC3DjB,EAAOW,EAAK5B,cAAc,kBAAkBkC,YAC5CC,EAAWP,EAAK5B,cAAc,cAE9BoC,EAAU,CACdxB,GAAImB,E,MACJlB,E,SACAC,E,MACAC,E,YACAC,EACAC,KAAMA,EACNC,KAAMiB,EAASE,MAGXC,EAAYjC,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,GAEnE,GAAIwB,EAAME,OAAOU,UAAUC,SAAS,0BAA2B,CAC7D,MACMC,EADaH,EAAU5B,KAAKgC,GAAOA,EAAG3B,QACnB4B,QAAQP,EAAQrB,OAEzCuB,EAAUM,OAAOH,EAAO,GACxBvC,aAAa2C,QAAQ,YAAaxC,KAAKyC,UAAUR,IAEjDX,EAAME,OAAOK,YAAc,mBAC3BP,EAAME,OAAOU,UAAUQ,OAAO,yBAChC,MACET,EAAUU,IAAIZ,GACdlC,aAAa2C,QAAQ,YAAaxC,KAAKyC,UAAUR,IAEjDX,EAAME,OAAOK,YAAc,yBAC3BP,EAAME,OAAOU,UAAUU,IAAI,yBAE/B","sources":["src/js/favorite/favorite.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst cardList = document.querySelector('.wrapper__list');\n\nfunction createGetCardList() {\n  const array = localStorage.getItem('favorites');\n  const parsedArray = JSON.parse(array);\n  console.log(parsedArray);\n  const news = parsedArray\n    .map(\n      (element) =>\n        `<li class = \"card-item\" data-id = \"${element.id}\">\n\n   <div class=\"card-wrapper\">\n    <div class=\"card-thumb\">\n        <img class=\"card-image\" src = \"${element.image}\" alt = \"\">\n        <p class=\"card-news-category\">${element.category}</p>\n\n       <p class=\"card-text-read\">Already read\n         <svg width=\"18\" height=\"18\" class=\"check-icon\"><use href=\"../images/symbol-defs.svg#icon-check\"</svg></p>\n        <button class=\"removefavorite-button\" type=\"button\" data-action=\"removefavorite-button\">Remove to favorite</button>\n\n      </div>\n      <h3 class=\"card-news-title\">${element.title}</h3>\n      <p class=\"card-news-description\">${element.description}</p>\n      <div class=\"card-info-container\">\n        <p class=\"card-datetime\">${element.date}</p>\n        <a class=\"card-link\" href=\"${element.link}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n    </div>\n </li>`,\n    )\n    .join('');\n\n  cardList.innerHTML = news;\n\n  if (news.length === 0) {\n    return Notiflix.Notify.info('You don`t have favourite news');\n  }\n}\n\ncreateGetCardList();\n\ncardList.addEventListener('click', addToFavorite);\n\n// function removeToFavorite(event) {\n//   if (event.target.dataset.action === 'favorite-button') {\n//     let cardItem = event.target.parentElement.parentElement.parentElement.dataset.id;\n//     console.log(cardItem); // сardId\n//     const card = event.currentTarget.firstChild; //li\n//     const image = card.querySelector('.card-image'); //img\n//     const category = card.querySelector('.card-news-category'); //categoryconst\n//     const cardTitle = card.querySelector('.card-news-title'); //title\n//     const newsDescription = card.querySelector('.card-news-description'); //description\n//     const dateTime = card.querySelector('.card-datetime'); //date\n//     const newsLink = card.querySelector('.card-link'); //link\n//     // console.log(image);\n//     // console.log(card);\n//     // console.log(category);\n//     // console.log(cardTitle);\n//     // console.log(newsDescription);\n//     // console.log(dateTime);\n//     // console.log(newsLink);\n\n//     const oneCard = {\n//       id: card.dataset.id,\n//       image: image.src,\n//       category: category.textContent,\n//       title: cardTitle.textContent,\n//       description: newsDescription.textContent,\n//       data: dateTime.textContent,\n//       link: newsLink.href,\n//     };\n//     console.log(oneCard);\n\n//     const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n//     if (event.target.classList.contains('removefavorite-button')) {\n//       const updatedFavorites = favorites.filter((element) => element.id != cardItem);\n//       console.log(updatedFavorites);\n//       localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n//     } else {\n//       favorites.push(oneCard);\n//       localStorage.setItem('favorites', JSON.stringify(favorites));\n//     }\n//   }\n// }\n\nfunction addToFavorite(event) {\n  let card = event.target.parentElement.parentElement.parentElement;\n  let cardId = card.dataset.id;\n\n  const image = card.querySelector('.card-image').src;\n  const category = card.querySelector('.card-news-category').textContent;\n  const title = card.querySelector('.card-news-title').textContent;\n  const description = card.querySelector('.card-news-description').textContent;\n  const date = card.querySelector('.card-datetime').textContent;\n  const newsLink = card.querySelector('.card-link');\n\n  const cardObj = {\n    id: cardId,\n    image,\n    category,\n    title,\n    description,\n    date: date,\n    link: newsLink.href,\n  };\n\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  if (event.target.classList.contains('removefavourite-button')) {\n    const indexArray = favorites.map((el) => el.title);\n    const index = indexArray.indexOf(cardObj.title);\n\n    favorites.splice(index, 1);\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n\n    event.target.textContent = 'Add to favorites';\n    event.target.classList.remove('removefavourite-button');\n  } else {\n    favorites.pop(cardObj);\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n\n    event.target.textContent = 'Removed from favorites';\n    event.target.classList.add('removefavourite-button');\n  }\n}\n"],"names":["$7Y9D8","parcelRequire","$3d1e63463f3558cb$var$cardList","document","querySelector","array","localStorage","getItem","parsedArray","JSON","parse","console","log","news","map","element","id","image","category","title","description","date","link","join","innerHTML","length","$parcel$interopDefault","Notify","info","$3d1e63463f3558cb$var$createGetCardList","addEventListener","event","card","target","parentElement","cardId","dataset","src","textContent","newsLink","cardObj","href","favorites","classList","contains","index","el","indexOf","splice","setItem","stringify","remove","pop","add"],"version":3,"file":"favoritePage.61f3f6f2.js.map"}