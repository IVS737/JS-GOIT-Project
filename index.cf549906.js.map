{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-8bb71c260aa75bab.js","src/js/header.js","node_modules/@parcel/runtime-js/lib/runtime-14b7d4b602859a84.js","node_modules/@parcel/runtime-js/lib/runtime-cc4650fbdb92411a.js","node_modules/@parcel/runtime-js/lib/runtime-b638b03319f4116b.js","src/js/searchform.js","src/js/themeChange.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9p9yL\\\":\\\"index.cf549906.js\\\",\\\"17VmK\\\":\\\"notfoundDesc.7a565a30.png\\\",\\\"hjr4N\\\":\\\"notfoundTab.fbc49068.png\\\",\\\"grrvl\\\":\\\"notfoundMob.cc203125.png\\\"}\"));","export default (() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.burger-btn-open');\n\n  const toggleMenu = () => {\n    const isMenuOpen = openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', (e) => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n  });\n\n  // add current page class\n\n  const home = document.querySelector('.home-current');\n  const favorite = document.querySelector('.favorite-current');\n  const read = document.querySelector('.read-current');\n\n  const checkCurrentPage = () => {\n    if (window.location.href.includes('#readPage.html')) {\n      read.classList.add('current');\n    }\n    if (window.location.href.includes('#favoritePage.html')) {\n      favorite.classList.add('current');\n    }\n    if (window.location.href.includes('#mainPage.html' || '#index.html')) {\n      home.classList.add('current');\n    }\n  };\n\n  checkCurrentPage();\n})();\n","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"17VmK\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"hjr4N\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"grrvl\");","import imagesDesc from '../images/notfoundDesc.png';\nimport imagesTab from '../images/notfoundTab.png';\nimport imagesMob from '../images/notfoundMob.png';\n\n\n\n\n\nconst refs = {\n\n    form: document.querySelector(\".header-search-form\"),\n    input: document.querySelector(\".header-search-input\"),\n    submitButton: document.querySelector('.header-button-makesearch'),\n    openInputButton: document.querySelector('.header-button-opensearch'),\n    withoutNewsContainer: document.querySelector('.container__error'),\n    newsList: document.querySelector('.wrapper__list'),\n}\n\n\nconst { form, input, submitButton, openInputButton, withoutNewsContainer, newsList } = refs;\n\nconst KEY = 'kAFi92vRzv66C7DQ6coSA3C5NLbSIILk';\nform.addEventListener('submit', onFormSubmit);\nopenInputButton.addEventListener('click', onOpenInputButtonClick);\n\nlet value = '';\n\nfunction onFormSubmit(event) {\n\n    value = event.currentTarget.elements.newsField.value.trim();\n    event.preventDefault();\n\n    fetchNews(value)\n        .then(data => {\n            if (data.response.docs.length === 0) {\n              form.reset();\n              newsList.innerHTML =\"\"\n                return createEmptyMarkup();\n            }\n            makeMarkup(data.response.docs);\n            return (data.response.docs);\n        }\n        ).catch(onError);\n  \n\n}\n\nfunction fetchNews(value) {\n  return fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${value}&api-key=${KEY}`).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    },\n  );\n}\n\nfunction createEmptyMarkup() {\n  const emptyMarkup = `<h2 class=\"withoutnews-title\">We havenâ€™t found news from <br> this category</h2><picture>\n                  <source\n                    media=\"(min-width:1280px)\"\n                    srcset=\"${imagesDesc}\"\n                  />\n\n                  <source\n                    media=\"(min-width:768px)\"\n                    srcset=\"\n                      ${imagesTab}\n                    \"\n                  />\n\n                  <img\n                    srcset=\"\n                      ${imagesMob}\n                    \"\n                    alt=\"There aren't news\"\n                    src=\"${imagesMob}\"\n                    loading=\"lazy\"\n                    class=\"withoutnews-image\"\n                  />\n                </picture>`;\n  withoutNewsContainer.innerHTML = emptyMarkup;\n}\n\nfunction makeMarkup(array) {\n  const markUp = array\n    .map((data) => {\n      const subTitle = data.abstract.slice(0, 100) + `...`;\n      const title = data.headline.main.slice(0, 60) + `...`;\n      const date = data.pub_date.toString().slice(0, 10).replace(`-`, '/').replace(`-`, '/');\n\n      let imageAddress;\n      let imageStartAddress;\n\n      if (data.multimedia.length === 0) {\n        imageAddress =\n          'https://st.depositphotos.com/1000558/53737/v/1600/depositphotos_537370102-stock-illustration-image-photo-sign-symbol-template.jpg';\n      } else if (data.multimedia.length > 0) {\n        imageStartAddress = 'https://static01.nyt.com/';\n        imageAddress = imageStartAddress + data.multimedia[0].url;\n      }\n      return `<li class = \"card-item\" data-id = \"${data.title}\">\n    <div class=\"card-wrapper\">\n      <div class=\"card-thumb\">\n        <img class=\"card-image\" src = \"${imageAddress}\" alt = \"${data.byline}\">\n        <p class=\"card-news-category\">${data.section_name}</p>\n        <p class=\"card-text-read\">Already read</p>\n        <button class=\"favorite-button\" type=\"button\" data-action=\"favorite-button\">Add to favorite\n        <svg class=\"add-to-favourite\"width =\"16\" height=\"16\"><use href=\"../images/symbol-defs.svg#icon-heart\"></use><svg></button>\n      </div>\n      <h3 class=\"card-news-title\">${data.headline.main}</h3>\n      <p class=\"card-news-description\">${subTitle}</p>\n      <div class=\"card-info-container\">\n        <p class=\"card-datetime\">${date}</p>\n        <a class=\"card-link\" href=\"${data.web_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n    </div>\n</li>`;\n    })\n    .join('');\n\n  newsList.innerHTML = markUp;\n}\n\nfunction onError(error) {\n  createEmptyMarkup();\n  console.log(error);\n}\n\nfunction onOpenInputButtonClick(event) {\n  openInputButton.style.display = 'none';\n  form.style.display = 'block';\n}\n","\n\nconst inputEl = document.querySelector(\".switch-checkbox\");\nconst bodyEl = document.querySelector('body');\n\n\ninputEl.addEventListener('click', function(){\n    bodyEl.classList.toggle('darkTheme');\n    \n    if (localStorage.getItem('theme') !== 'dark') {\n        localStorage.setItem('theme', 'dark');\n      } else {\n        localStorage.removeItem('theme');\n      }\n});\n\n\nfunction addDarkClass() {\n    try {\n      if (localStorage.getItem('theme') === 'dark') {\n        bodyTheme.classList.add('darkTheme');\n        inputEl.checked = true;\n      }\n     \n    } catch (err) {}\n  }\n  \n  addDarkClass();"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","mobileMenu","document","querySelector","openMenuBtn","addEventListener","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","matchMedia","e","remove","home","favorite","read","location","href","includes","add","$ba4065ff9705ddc5$exports","getBundleURL","resolve","$68ac9f4286a287e5$exports","$8892af7323edbc0c$exports","$93c2edf92f191ea2$var$refs","form","input","submitButton","openInputButton","withoutNewsContainer","newsList","$93c2edf92f191ea2$var$form","$93c2edf92f191ea2$var$input","$93c2edf92f191ea2$var$submitButton","$93c2edf92f191ea2$var$openInputButton","$93c2edf92f191ea2$var$withoutNewsContainer","$93c2edf92f191ea2$var$newsList","$93c2edf92f191ea2$var$KEY","event","$93c2edf92f191ea2$var$value","currentTarget","elements","newsField","trim","preventDefault","fetch","then","response","ok","status","json","data","docs","reset","innerHTML","$93c2edf92f191ea2$var$createEmptyMarkup","array","markUp","map","subTitle","abstract","slice","date","headline","main","pub_date","toString","imageAddress","imageStartAddress","multimedia","title","byline","section_name","web_url","join","$93c2edf92f191ea2$var$makeMarkup","catch","$93c2edf92f191ea2$var$onError","style","display","emptyMarkup","$parcel$interopDefault","error","console","log","$12025b83e7167d0e$var$inputEl","$12025b83e7167d0e$var$bodyEl","localStorage","getItem","setItem","removeItem","bodyTheme","checked","$12025b83e7167d0e$var$addDarkClass"],"version":3,"file":"index.cf549906.js.map"}