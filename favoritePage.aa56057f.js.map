{"mappings":"YAAA,MAAMA,EAAWC,SAASC,cAAc,mBAExC,WACE,MAAMC,EAAQC,aAAaC,QAAQ,aAG7BC,EAFWC,KAAKC,MAAML,GAENM,KAAKC,GAC7B,sCAAsCA,EAAQC,mHAILD,EAAQE,2DACTF,EAAQG,qWAOZH,EAAQI,sDACHJ,EAAQK,8FAEdL,EAAQM,gDACNN,EAAQO,6GAI1CC,KAAK,IAENlB,EAASmB,UAAYb,CAEvB,CAEAc,GAEApB,EAASqB,iBAAiB,SAE1B,SAA0BC,GAExB,GAAoC,oBAAhCA,EAAMC,OAAOC,QAAQC,OAA8B,CACrD,IAAIC,EAAWJ,EAAMC,OAAOI,cAAcA,cAAcA,cAAcH,QAAQI,GAC9EC,QAAQC,IAAIJ,GACZ,MAAMK,EAAOT,EAAMU,cAAcC,WAC3BrB,EAAQmB,EAAK7B,cAAc,eAC3BW,EAAWkB,EAAK7B,cAAc,uBAC9BgC,EAAYH,EAAK7B,cAAc,oBAC/BiC,EAAkBJ,EAAK7B,cAAc,0BACrCkC,EAAWL,EAAK7B,cAAc,kBAC9BmC,EAAWN,EAAK7B,cAAc,cAS9BoC,EAAU,CACd3B,OAAQoB,EAAKP,QAAQI,GACrBhB,MAAOA,EAAM2B,IACb1B,SAAUA,EAAS2B,YACnB1B,MAAOoB,EAAUM,YACjBzB,YAAaoB,EAAgBK,YAC7BxB,KAAMoB,EAASI,YACfvB,KAAMoB,EAASI,MAEjBZ,QAAQC,IAAIQ,GAEZ,MAAMI,EAAYnC,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,GAEnE,GAAIiB,EAAMC,OAAOoB,UAAUC,SAAS,yBAA0B,CAE5D,MAAMC,EAAmBH,EAAUI,QAAQpC,GAAYA,EAAQC,QAAUe,IACzEG,QAAQC,IAAIe,GACZzC,aAAa2C,QAAQ,YAAaxC,KAAKyC,UAAUH,GAEnD,MACEH,EAAUO,KAAKX,GACflC,aAAa2C,QAAQ,YAAaxC,KAAKyC,UAAUN,GAGrD,CACF,G","sources":["src/js/favorite/favorite.js"],"sourcesContent":["const cardList = document.querySelector('.wrapper__list');\n\nfunction createGetCardList() {\n  const array = localStorage.getItem('favorites');\n  const arparsed = JSON.parse(array);\n\n  const news = arparsed.map((element) => \n`<li class = \"card-item\" data-id = \"${element.cardEl}\">\n\n   <div class=\"card-wrapper\">\n    <div class=\"card-thumb\">\n        <img class=\"card-image\" src = \"${element.image}\" alt = \"\">\n        <p class=\"card-news-category\">${element.category}</p>\n\n       <p class=\"card-text-read\">Already read\n         <svg width=\"18\" height=\"18\" class=\"check-icon\"><use href=\"../images/symbol-defs.svg#icon-check\"</svg></p>\n        <button class=\"removefavorite-button\" type=\"button\" data-action=\"removefavorite-button\">Remove to favorite</button>\n\n      </div>\n      <h3 class=\"card-news-title\">${element.title}</h3>\n      <p class=\"card-news-description\">${element.description}</p>\n      <div class=\"card-info-container\">\n        <p class=\"card-datetime\">${element.data}</p>\n        <a class=\"card-link\" href=\"${element.link}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n    </div>\n </li>`)\n  .join('');\n\n  cardList.innerHTML = news;\n\n}\n\ncreateGetCardList();\n\ncardList.addEventListener('click', removeToFavorite);\n\nfunction removeToFavorite(event) {\n\n  if (event.target.dataset.action === 'favorite-button') {\n    let cardItem = event.target.parentElement.parentElement.parentElement.dataset.id;\n    console.log(cardItem); // сardId\n    const card = event.currentTarget.firstChild; //li\n    const image = card.querySelector('.card-image'); //img\n    const category = card.querySelector('.card-news-category'); //categoryconst\n    const cardTitle = card.querySelector('.card-news-title'); //title\n    const newsDescription = card.querySelector('.card-news-description'); //description\n    const dateTime = card.querySelector('.card-datetime'); //date\n    const newsLink = card.querySelector('.card-link'); //link\n    // console.log(image);\n    // console.log(card);\n    // console.log(category);\n    // console.log(cardTitle);\n    // console.log(newsDescription);\n    // console.log(dateTime);\n    // console.log(newsLink);\n    \n    const oneCard = {\n      cardEl: card.dataset.id,\n      image: image.src,\n      category: category.textContent,\n      title: cardTitle.textContent,\n      description: newsDescription.textContent,\n      data: dateTime.textContent,\n      link: newsLink.href,\n    };\n    console.log(oneCard);\n\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    \n    if (event.target.classList.contains('removefavorite-button')) {\n\n      const updatedFavorites = favorites.filter((element) => element.cardEl != cardItem);\n      console.log(updatedFavorites);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      \n    } else {\n      favorites.push(oneCard);\n      localStorage.setItem('favorites', JSON.stringify(favorites));\n    }\n    \n  }\n}\n"],"names":["$da9584f98d473ca1$var$cardList","document","querySelector","array","localStorage","getItem","news","JSON","parse","map","element","cardEl","image","category","title","description","data","link","join","innerHTML","$da9584f98d473ca1$var$createGetCardList","addEventListener","event","target","dataset","action","cardItem","parentElement","id","console","log","card","currentTarget","firstChild","cardTitle","newsDescription","dateTime","newsLink","oneCard","src","textContent","href","favorites","classList","contains","updatedFavorites","filter","setItem","stringify","push"],"version":3,"file":"favoritePage.aa56057f.js.map"}