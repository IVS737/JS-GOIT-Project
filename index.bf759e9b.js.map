{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-95db615679001a4e.js","src/js/header.js","node_modules/@parcel/runtime-js/lib/runtime-bc1ae7848126b66d.js","node_modules/@parcel/runtime-js/lib/runtime-16c20ac84e771cf9.js","node_modules/@parcel/runtime-js/lib/runtime-25ccc5f619bba4bf.js","src/js/searchform.js","src/js/themeChange.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.bf759e9b.js\\\",\\\"2Xtj3\\\":\\\"notfoundDesc.7a565a30.png\\\",\\\"2n16u\\\":\\\"notfoundTab.fbc49068.png\\\",\\\"iKi7H\\\":\\\"notfoundMob.cc203125.png\\\"}\"));","export default (() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.burger-btn-open');\n\n  const toggleMenu = () => {\n    const isMenuOpen = openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', (e) => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n  });\n\n  // add current page class\n\n  window.addEventListener('DOMContentLoaded', function() {\n  var path = window.location.href;\n  var links = document.querySelectorAll('.header-link');\n\n  links.forEach(function(link) {\n    if (link.href === path) {\n      link.classList.add('current');\n    }\n  });\n  });\n  \n})();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2Xtj3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2n16u\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iKi7H\")).toString();","import imagesDesc from '../images/notfoundDesc.png';\nimport imagesTab from '../images/notfoundTab.png';\nimport imagesMob from '../images/notfoundMob.png';\n\n\n\n\nconst refs = {\n\n    form: document.querySelector(\".header-search-form\"),\n    input: document.querySelector(\".header-search-input\"),\n    submitButton: document.querySelector('.header-button-makesearch'),\n    openInputButton: document.querySelector('.header-button-opensearch'),\n    withoutNewsContainer: document.querySelector('.container__error'),\n    newsList: document.querySelector('.wrapper__list'),\n}\n\n\nconst { form, input, submitButton, openInputButton, withoutNewsContainer, newsList } = refs;\n\nconst KEY = 'kAFi92vRzv66C7DQ6coSA3C5NLbSIILk';\nform.addEventListener('submit', onFormSubmit);\nopenInputButton.addEventListener('click', onOpenInputButtonClick);\n\nlet value = '';\n\nfunction onFormSubmit(event) {\n\n    value = event.currentTarget.elements.newsField.value.trim();\n    event.preventDefault();\n\n    fetchNews(value)\n        .then(data => {\n            if (data.response.docs.length === 0) {\n              form.reset();\n              newsList.innerHTML =\"\"\n                return createEmptyMarkup();\n            }\n            makeMarkup(data.response.docs);\n            return (data.response.docs);\n        }\n        ).catch(onError);\n  \n\n}\n\nfunction fetchNews(value) {\n  return fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${value}&api-key=${KEY}`).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    },\n  );\n}\n\nfunction createEmptyMarkup() {\n  const emptyMarkup = `<h2 class=\"withoutnews-title\">We havenâ€™t found news from <br> this category</h2><picture>\n                  <source\n                    media=\"(min-width:1280px)\"\n                    srcset=\"${imagesDesc}\"\n                  />\n\n                  <source\n                    media=\"(min-width:768px)\"\n                    srcset=\"\n                      ${imagesTab}\n                    \"\n                  />\n\n                  <img\n                    srcset=\"\n                      ${imagesMob}\n                    \"\n                    alt=\"There aren't news\"\n                    src=\"${imagesMob}\"\n                    loading=\"lazy\"\n                    class=\"withoutnews-image\"\n                  />\n                </picture>`;\n  withoutNewsContainer.innerHTML = emptyMarkup;\n}\n\nfunction makeMarkup(array) {\n  const markUp = array\n    .map((data) => {\n      const subTitle = data.abstract.slice(0, 100) + `...`;\n      const title = data.headline.main.slice(0, 60) + `...`;\n      const date = data.pub_date.toString().slice(0, 10).replace(`-`, '/').replace(`-`, '/');\n\n      let imageAddress;\n      let imageStartAddress;\n\n      if (data.multimedia.length === 0) {\n        imageAddress =\n          'https://st.depositphotos.com/1000558/53737/v/1600/depositphotos_537370102-stock-illustration-image-photo-sign-symbol-template.jpg';\n      } else if (data.multimedia.length > 0) {\n        imageStartAddress = 'https://static01.nyt.com/';\n        imageAddress = imageStartAddress + data.multimedia[0].url;\n      }\n      return `<li class = \"card-item\" data-id = \"${data.uri}\">\n    <div class=\"card-wrapper\">\n      <div class=\"card-thumb\">\n        <img class=\"card-image\" src = \"${imageAddress}\" alt = \"${data.byline}\">\n        <p class=\"card-news-category\">${data.section_name}</p>\n\n        <p class=\"card-text-read\">Already read\n        <svg width=\"18\" height=\"18\" class=\"check-icon\"><use href=\"../images/symbol-defs.svg#icon-check\"</svg></p>\n        <button class=\"favourite-button\" type=\"button\" data-action=\"favourite-button\">Add to favorite</button>\n\n      </div>\n      <h3 class=\"card-news-title\">${data.headline.main}</h3>\n      <p class=\"card-news-description\">${subTitle}</p>\n      <div class=\"card-info-container\">\n        <p class=\"card-datetime\">${date}</p>\n        <a class=\"card-link\" href=\"${data.web_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n    </div>\n</li>`;\n    })\n    .join('');\n\n  newsList.innerHTML = markUp;\n}\n\nfunction onError(error) {\n  createEmptyMarkup();\n  console.log(error);\n}\n\nfunction onOpenInputButtonClick(event) {\n  openInputButton.style.display = 'none';\n  form.style.display = 'block';\n}\n\n\nnewsList.addEventListener('click', addToFavorite);\n\nfunction addToFavorite(event) {\n  if (event.target.dataset.action === 'favourite-button') {\n    let cardItem =\n      event.target.parentElement.parentElement.parentElement.dataset.id;\n    console.log(cardItem);\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    if (event.target.classList.contains('removefavourite-button')) {\n      const updatedFavorites = favorites.filter(id => id !== cardItem);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n\n      event.target.textContent = 'Add to favorites';\n      event.target.classList.remove('removefavourite-button');\n    } else {\n      favorites.push(cardItem);\n      localStorage.setItem('favorites', JSON.stringify(favorites));\n\n      event.target.textContent = 'Remove from favourites';\n      event.target.classList.add('removefavourite-button');\n    }\n  }\n}","\n\nconst inputEl = document.querySelector(\".switch-checkbox\");\nconst bodyEl = document.querySelector('body');\n\n\ninputEl.addEventListener('click', function(){\n    bodyEl.classList.toggle('darkTheme');\n    \n    if (localStorage.getItem('theme') !== 'dark') {\n        localStorage.setItem('theme', 'dark');\n      } else {\n        localStorage.removeItem('theme');\n      }\n});\n\n\nfunction addDarkClass() {\n    try {\n      if (localStorage.getItem('theme') === 'dark') {\n        bodyTheme.classList.add('darkTheme');\n        inputEl.checked = true;\n      }\n     \n    } catch (err) {}\n  }\n  \n  addDarkClass();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","mobileMenu","document","querySelector","openMenuBtn","addEventListener","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","matchMedia","e","matches","remove","path","location","href","querySelectorAll","forEach","link","add","$e5ee1794563aec51$exports","URL","resolve","import","meta","url","toString","$72e92781e442da13$exports","$5427e0c6766a967a$exports","$87fefba10458430e$var$refs","form","input","submitButton","openInputButton","withoutNewsContainer","newsList","$87fefba10458430e$var$form","$87fefba10458430e$var$input","$87fefba10458430e$var$submitButton","$87fefba10458430e$var$openInputButton","$87fefba10458430e$var$withoutNewsContainer","$87fefba10458430e$var$newsList","$87fefba10458430e$var$KEY","event","$87fefba10458430e$var$value","currentTarget","elements","newsField","value","trim","preventDefault","fetch","then","response","ok","status","json","data","docs","reset","innerHTML","$87fefba10458430e$var$createEmptyMarkup","array","markUp","map","subTitle","abstract","slice","date","headline","main","pub_date","replace","imageAddress","imageStartAddress","multimedia","uri","byline","section_name","web_url","join","$87fefba10458430e$var$makeMarkup","catch","$87fefba10458430e$var$onError","style","display","emptyMarkup","$parcel$interopDefault","error","console","log","target","dataset","action","cardItem","parentElement","favorites","localStorage","getItem","contains","updatedFavorites","filter","setItem","stringify","textContent","push","$c77ad4d3e0a5489f$var$inputEl","$c77ad4d3e0a5489f$var$bodyEl","removeItem","bodyTheme","checked","err","$c77ad4d3e0a5489f$var$addDarkClass"],"version":3,"file":"index.bf759e9b.js.map"}