{"mappings":"YAAe,MACb,MAAMA,EAAaC,SAASC,cAAc,sBACpCC,EAAcF,SAASC,cAAc,oBAQ3CC,EAAYC,iBAAiB,SANV,KACjB,MAAMC,EAA2D,SAA9CF,EAAYG,aAAa,mBAA+B,EAC3EH,EAAYI,aAAa,iBAAkBF,GAC3CL,EAAWQ,UAAUC,OAAO,cAM9BC,OAAOC,WAAW,sBAAsBP,iBAAiB,UAAWQ,IAC7DA,EAAEC,UACPb,EAAWQ,UAAUM,OAAO,WAC5BX,EAAYI,aAAa,iBAAiB,GAAK,IAKjD,MAAMQ,EAAOd,SAASC,cAAc,iBAC9Bc,EAAWf,SAASC,cAAc,qBAClCe,EAAOhB,SAASC,cAAc,iBAG9BQ,OAAOQ,SAASC,KAAKC,SAAS,mBAChCH,EAAKT,UAAUa,IAAI,WAEjBX,OAAOQ,SAASC,KAAKC,SAAS,uBAChCJ,EAASR,UAAUa,IAAI,WAErBX,OAAOQ,SAASC,KAAKC,SAAS,mBAChCL,EAAKP,UAAUa,IAAI,UAKzB,EAtCe,GCAf,MAAMC,EAAO,CAETC,KAAMtB,SAASC,cAAc,uBAC7BsB,MAAOvB,SAASC,cAAc,wBAC9BuB,aAAcxB,SAASC,cAAc,6BACrCwB,gBAAiBzB,SAASC,cAAc,6BAC1CyB,qBAAsB1B,SAASC,cAAc,qBAC3C0B,SAAU3B,SAASC,cAAc,oBAI/BqB,KAAEM,EAAIL,MAAEM,EAAKL,aAAEM,EAAYL,gBAAEM,EAAeL,qBAAEM,EAAoBL,SAAEM,GAAaZ,EAEjFa,EAAM,mCACZN,EAAKzB,iBAAiB,UAKtB,SAAsBgC,GAElBC,EAAQD,EAAME,cAAcC,SAASC,UAAUC,MAAMC,OACrDN,EAAMO,kBAiBSF,EAfLJ,EAgBLO,MAAM,8DAA8DH,aAAiBN,KAAOU,MAChGC,IACC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAI,KApBjBL,MAAKM,GACgC,IAA9BA,EAAKL,SAASM,KAAKC,QACrBxB,EAAKyB,QACLpB,EAASqB,UAAW,GACXC,MA0DvB,SAAoBC,GAClB,MAAMC,EAASD,EACZE,KAAKR,IACJ,MAAMS,EAAWT,EAAKU,SAASC,MAAM,EAAG,KAAO,MAEzCC,GADQZ,EAAKa,SAASC,KAAKH,MAAM,EAAG,IAC7BX,EAAKe,SAASC,WAAWL,MAAM,EAAG,IAAIM,QAAQ,IAAK,KAAKA,QAAQ,IAAK,MAElF,IAAIC,EACAC,EASJ,OAP+B,IAA3BnB,EAAKoB,WAAWlB,OAClBgB,EACE,oIACOlB,EAAKoB,WAAWlB,OAAS,IAClCiB,EAAoB,4BACpBD,EAAeC,EAAoBnB,EAAKoB,WAAW,GAAGC,KAEjD,sCAAsCrB,EAAKsB,mHAGfJ,aAAwBlB,EAAKuB,mDAC9BvB,EAAKwB,idAMTxB,EAAKa,SAASC,qDACTL,oFAENG,6CACEZ,EAAKyB,4GAGpC,IAEDC,KAAK,IAER3C,EAASqB,UAAYG,CACvB,CA/FYoB,CAAW3B,EAAKL,SAASM,MACjBD,EAAKL,SAASM,QAExB2B,MAAMC,GAKhB,IAAmBvC,CAFnB,IAtBAT,EAAgB5B,iBAAiB,SAsHjC,SAAgCgC,GAC9BJ,EAAgBiD,MAAMC,QAAU,OAChCrD,EAAKoD,MAAMC,QAAU,OACvB,IAvHA,IAAI7C,EAAQ,GAiCZ,SAASmB,IAkCPvB,EAAqBsB,UAjCD,8/BAkCtB,CA2CA,SAASyB,EAAQG,GACf3B,IACA4B,QAAQC,IAAIF,EACd,CCjIA,MAAMG,EAAUrF,SAASC,cAAc,oBACjCqF,EAAStF,SAASC,cAAc,QAGtCoF,EAAQlF,iBAAiB,SAAS,WAC9BmF,EAAO/E,UAAUC,OAAO,aAEc,SAAlC+E,aAAaC,QAAQ,SACrBD,aAAaE,QAAQ,QAAS,QAE9BF,aAAaG,WAAW,QAEhC,IAGA,WACI,IACwC,SAAlCH,aAAaC,QAAQ,WACvBG,UAAUpF,UAAUa,IAAI,aACxBiE,EAAQO,SAAU,EAGtB,CAAE,MAAOC,GAAM,CACjB,CAEAC,E","sources":["src/js/header.js","src/js/searchform.js","src/js/themeChange.js"],"sourcesContent":["export default (() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.burger-btn-open');\n\n  const toggleMenu = () => {\n    const isMenuOpen = openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', (e) => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n  });\n\n  // add current page class\n\n  const home = document.querySelector('.home-current');\n  const favorite = document.querySelector('.favorite-current');\n  const read = document.querySelector('.read-current');\n\n  const checkCurrentPage = () => {\n    if (window.location.href.includes('#readPage.html')) {\n      read.classList.add('current');\n    }\n    if (window.location.href.includes('#favoritePage.html')) {\n      favorite.classList.add('current');\n    }\n    if (window.location.href.includes('#mainPage.html' || '#index.html')) {\n      home.classList.add('current');\n    }\n  };\n\n  checkCurrentPage();\n})();\n","const refs = {\n\n    form: document.querySelector(\".header-search-form\"),\n    input: document.querySelector(\".header-search-input\"),\n    submitButton: document.querySelector('.header-button-makesearch'),\n    openInputButton: document.querySelector('.header-button-opensearch'),\n  withoutNewsContainer: document.querySelector('.container__error'),\n    newsList: document.querySelector('.wrapper__list'),\n}\n\n\nconst { form, input, submitButton, openInputButton, withoutNewsContainer, newsList } = refs;\n\nconst KEY = 'kAFi92vRzv66C7DQ6coSA3C5NLbSIILk';\nform.addEventListener('submit', onFormSubmit);\nopenInputButton.addEventListener('click', onOpenInputButtonClick);\n\nlet value = '';\n\nfunction onFormSubmit(event) {\n\n    value = event.currentTarget.elements.newsField.value.trim();\n    event.preventDefault();\n\n    fetchNews(value)\n        .then(data => {\n            if (data.response.docs.length === 0) {\n              form.reset();\n              newsList.innerHTML =\"\"\n                return createEmptyMarkup();\n            }\n            makeMarkup(data.response.docs);\n            return (data.response.docs);\n        }\n        ).catch(onError);\n  \n\n}\n\nfunction fetchNews(value) {\n  return fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${value}&api-key=${KEY}`).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    },\n  );\n}\n\nfunction createEmptyMarkup() {\n  const emptyMarkup = `<h2 class=\"withoutnews-title\">We havenâ€™t found news from <br> this category</h2><picture>\n                  <source\n                    media=\"(min-width:1280px)\"\n                    srcset=\"\n\n                      images/notfoundDesc.png    1x,\n                      images/notfoundDesc@2x.png 2x\n\n                    \"\n                  />\n\n                  <source\n                    media=\"(min-width:768px)\"\n                    srcset=\"\n                      images/notfoundTab.png    1x,\n                      images/notfoundTab@2x.png 2x\n\n                    \"\n                  />\n\n                  <img\n                    srcset=\"\n\n                    images/notfoundMob.png    1x,\n                    mages/notfoundMob@2x.jpg 2x\n\n                    \"\n                    alt=\"There aren't news\"\n                    src=\"images/notfoundMob.png\"\n                    loading=\"lazy\"\n                    class=\"withoutnews-image\"\n                  />\n                </picture>`;\n  withoutNewsContainer.innerHTML = emptyMarkup;\n}\n\nfunction makeMarkup(array) {\n  const markUp = array\n    .map((data) => {\n      const subTitle = data.abstract.slice(0, 100) + `...`;\n      const title = data.headline.main.slice(0, 60) + `...`;\n      const date = data.pub_date.toString().slice(0, 10).replace(`-`, '/').replace(`-`, '/');\n\n      let imageAddress;\n      let imageStartAddress;\n\n      if (data.multimedia.length === 0) {\n        imageAddress =\n          'https://st.depositphotos.com/1000558/53737/v/1600/depositphotos_537370102-stock-illustration-image-photo-sign-symbol-template.jpg';\n      } else if (data.multimedia.length > 0) {\n        imageStartAddress = 'https://static01.nyt.com/';\n        imageAddress = imageStartAddress + data.multimedia[0].url;\n      }\n      return `<li class = \"card-item\" data-id = \"${data.title}\">\n    <div class=\"card-wrapper\">\n      <div class=\"card-thumb\">\n        <img class=\"card-image\" src = \"${imageAddress}\" alt = \"${data.byline}\">\n        <p class=\"card-news-category\">${data.section_name}</p>\n        <p class=\"card-text-read\">Already read\n        <svg width=\"18\" height=\"18\" class=\"check-icon\"><use href=\"../images/symbol-defs.svg#icon-check\"</svg></p>\n        <button class=\"favorite-button\" type=\"button\" data-action=\"favorite-button\">Add to favorite\n        <svg class=\"add-to-favourite\"width =\"16\" height=\"16\"><use href=\"../images/symbol-defs.svg#icon-heart\"></use><svg></button>\n      </div>\n      <h3 class=\"card-news-title\">${data.headline.main}</h3>\n      <p class=\"card-news-description\">${subTitle}</p>\n      <div class=\"card-info-container\">\n        <p class=\"card-datetime\">${date}</p>\n        <a class=\"card-link\" href=\"${data.web_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n    </div>\n</li>`;\n    })\n    .join('');\n\n  newsList.innerHTML = markUp;\n}\n\nfunction onError(error) {\n  createEmptyMarkup();\n  console.log(error);\n}\n\nfunction onOpenInputButtonClick(event) {\n  openInputButton.style.display = 'none';\n  form.style.display = 'block';\n}\n","\n\nconst inputEl = document.querySelector(\".switch-checkbox\");\nconst bodyEl = document.querySelector('body');\n\n\ninputEl.addEventListener('click', function(){\n    bodyEl.classList.toggle('darkTheme');\n    \n    if (localStorage.getItem('theme') !== 'dark') {\n        localStorage.setItem('theme', 'dark');\n      } else {\n        localStorage.removeItem('theme');\n      }\n});\n\n\nfunction addDarkClass() {\n    try {\n      if (localStorage.getItem('theme') === 'dark') {\n        bodyTheme.classList.add('darkTheme');\n        inputEl.checked = true;\n      }\n     \n    } catch (err) {}\n  }\n  \n  addDarkClass();"],"names":["mobileMenu","document","querySelector","openMenuBtn","addEventListener","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","matchMedia","e","matches","remove","home","favorite","read","location","href","includes","add","$93c2edf92f191ea2$var$refs","form","input","submitButton","openInputButton","withoutNewsContainer","newsList","$93c2edf92f191ea2$var$form","$93c2edf92f191ea2$var$input","$93c2edf92f191ea2$var$submitButton","$93c2edf92f191ea2$var$openInputButton","$93c2edf92f191ea2$var$withoutNewsContainer","$93c2edf92f191ea2$var$newsList","$93c2edf92f191ea2$var$KEY","event","$93c2edf92f191ea2$var$value","currentTarget","elements","newsField","value","trim","preventDefault","fetch","then","response","ok","Error","status","json","data","docs","length","reset","innerHTML","$93c2edf92f191ea2$var$createEmptyMarkup","array","markUp","map","subTitle","abstract","slice","date","headline","main","pub_date","toString","replace","imageAddress","imageStartAddress","multimedia","url","title","byline","section_name","web_url","join","$93c2edf92f191ea2$var$makeMarkup","catch","$93c2edf92f191ea2$var$onError","style","display","error","console","log","$12025b83e7167d0e$var$inputEl","$12025b83e7167d0e$var$bodyEl","localStorage","getItem","setItem","removeItem","bodyTheme","checked","err","$12025b83e7167d0e$var$addDarkClass"],"version":3,"file":"index.e981eea4.js.map"}